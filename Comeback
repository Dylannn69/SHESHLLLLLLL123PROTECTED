-- Muscle Legends Killer - 3 Panel Layout
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TeleportService = game:GetService("TeleportService")
local StatsService = game:GetService("Stats")

local player = Players.LocalPlayer

-- Variables
local autoKill = true
local autoTP = true
local positionLock = nil
local sessionKills = 0
local lastKillCount = 0
local startKills = 0

-- Create 3 Panel Layout
local function createThreePanelUI()
    local screenGui = Instance.new("ScreenGui")
    screenGui.Name = "ThreePanelKillerUI"
    screenGui.Parent = game.CoreGui
    screenGui.ResetOnSpawn = false
    
    -- Main container for all panels
    local mainContainer = Instance.new("Frame")
    mainContainer.Size = UDim2.new(0.9, 0, 0.8, 0)
    mainContainer.Position = UDim2.new(0.05, 0, 0.05, 0)
    mainContainer.BackgroundTransparency = 1
    mainContainer.Parent = screenGui
    
    -- LEFT PANEL (Medium Width) - PURPLE THEME
    local leftPanel = Instance.new("Frame")
    leftPanel.Size = UDim2.new(0.2, 0, 1, 0)
    leftPanel.Position = UDim2.new(0, 0, 0, 0)
    leftPanel.BackgroundColor3 = Color3.fromRGB(40, 10, 60)
    leftPanel.BackgroundTransparency = 0.1
    leftPanel.BorderSizePixel = 0
    leftPanel.ClipsDescendants = true
    leftPanel.Parent = mainContainer
    
    local leftCorner = Instance.new("UICorner")
    leftCorner.CornerRadius = UDim.new(0, 12)
    leftCorner.Parent = leftPanel
    
    local leftBorder = Instance.new("UIStroke")
    leftBorder.Color = Color3.fromRGB(180, 60, 255)
    leftBorder.Thickness = 3
    leftBorder.Parent = leftPanel
    
    -- CENTER PANEL (Large Main Area) - RED/ORANGE THEME
    local centerPanel = Instance.new("Frame")
    centerPanel.Size = UDim2.new(0.55, 0, 1, 0)
    centerPanel.Position = UDim2.new(0.21, 0, 0, 0)
    centerPanel.BackgroundColor3 = Color3.fromRGB(60, 20, 20)
    centerPanel.BackgroundTransparency = 0.1
    centerPanel.BorderSizePixel = 0
    centerPanel.ClipsDescendants = true
    centerPanel.Parent = mainContainer
    
    local centerCorner = Instance.new("UICorner")
    centerCorner.CornerRadius = UDim.new(0, 12)
    centerCorner.Parent = centerPanel
    
    local centerBorder = Instance.new("UIStroke")
    centerBorder.Color = Color3.fromRGB(255, 80, 80)
    centerBorder.Thickness = 3
    centerBorder.Parent = centerPanel
    
    -- RIGHT PANEL (Medium Width) - BLUE/GREEN THEME
    local rightPanel = Instance.new("Frame")
    rightPanel.Size = UDim2.new(0.2, 0, 1, 0)
    rightPanel.Position = UDim2.new(0.77, 0, 0, 0)
    rightPanel.BackgroundColor3 = Color3.fromRGB(10, 40, 60)
    rightPanel.BackgroundTransparency = 0.1
    rightPanel.BorderSizePixel = 0
    rightPanel.ClipsDescendants = true
    rightPanel.Parent = mainContainer
    
    local rightCorner = Instance.new("UICorner")
    rightCorner.CornerRadius = UDim.new(0, 12)
    rightCorner.Parent = rightPanel
    
    local rightBorder = Instance.new("UIStroke")
    rightBorder.Color = Color3.fromRGB(80, 200, 255)
    rightBorder.Thickness = 3
    rightBorder.Parent = rightPanel
    
    -- BOTTOM BAR (Full Width) - DARK THEME
    local bottomBar = Instance.new("Frame")
    bottomBar.Size = UDim2.new(1, 0, 0.08, 0)
    bottomBar.Position = UDim2.new(0, 0, 1.02, 0)
    bottomBar.BackgroundColor3 = Color3.fromRGB(10, 10, 20)
    bottomBar.BackgroundTransparency = 0.05
    bottomBar.BorderSizePixel = 0
    bottomBar.Parent = mainContainer
    
    local bottomCorner = Instance.new("UICorner")
    bottomCorner.CornerRadius = UDim.new(0, 8)
    bottomCorner.Parent = bottomBar
    
    local bottomBorder = Instance.new("UIStroke")
    bottomBorder.Color = Color3.fromRGB(255, 215, 0)
    bottomBorder.Thickness = 2
    bottomBorder.Parent = bottomBar
    
    -- ===== SCI-FI BUBBLES EFFECT =====
    local function createSciFiBubbles(parent, color, count)
        local bubbles = {}
        
        for i = 1, count do
            local bubble = Instance.new("Frame")
            local size = math.random(5, 20)
            bubble.Size = UDim2.new(0, size, 0, size)
            bubble.Position = UDim2.new(math.random(), 0, 1, math.random(10, 50))
            bubble.BackgroundColor3 = color
            bubble.BackgroundTransparency = 0.7
            bubble.BorderSizePixel = 0
            bubble.Parent = parent
            
            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(1, 0)
            corner.Parent = bubble
            
            local glow = Instance.new("UIStroke")
            glow.Color = color
            glow.Thickness = 2
            glow.Transparency = 0.5
            glow.Parent = bubble
            
            table.insert(bubbles, {
                frame = bubble,
                speed = math.random(20, 50) / 100,
                sway = math.random(-10, 10) / 100,
                startX = bubble.Position.X.Scale,
                transparency = 0.7
            })
        end
        
        -- Animate bubbles
        spawn(function()
            while true do
                for _, bubbleData in pairs(bubbles) do
                    local bubble = bubbleData.frame
                    if bubble then
                        -- Move bubble upward
                        local currentY = bubble.Position.Y.Scale - bubbleData.speed * 0.01
                        local currentX = bubbleData.startX + math.sin(tick() * 2) * bubbleData.sway
                        
                        bubble.Position = UDim2.new(currentX, 0, currentY, 0)
                        
                        -- Fade in and out
                        local pulse = math.sin(tick() * 3 + bubbleData.startX) * 0.3 + 0.4
                        bubble.BackgroundTransparency = pulse
                        bubble.UIStroke.Transparency = pulse + 0.2
                        
                        -- Reset bubble if it goes too high
                        if currentY < -0.2 then
                            bubble.Position = UDim2.new(math.random(), 0, 1, math.random(10, 50))
                            bubbleData.startX = bubble.Position.X.Scale
                        end
                    end
                end
                task.wait()
            end
        end)
        
        return bubbles
    end
    
    -- Create LOTS of bubbles for each panel
    createSciFiBubbles(leftPanel, Color3.fromRGB(180, 60, 255), 15)   -- Purple bubbles
    createSciFiBubbles(centerPanel, Color3.fromRGB(255, 100, 100), 25) -- Red bubbles  
    createSciFiBubbles(rightPanel, Color3.fromRGB(80, 200, 255), 15)   -- Blue bubbles
    
    -- Additional floating particles
    local function createFloatingParticles(parent, color, count)
        for i = 1, count do
            local particle = Instance.new("Frame")
            local size = math.random(3, 8)
            particle.Size = UDim2.new(0, size, 0, size)
            particle.Position = UDim2.new(math.random(), 0, math.random(), 0)
            particle.BackgroundColor3 = color
            particle.BackgroundTransparency = math.random(5, 8) / 10
            particle.BorderSizePixel = 0
            particle.Parent = parent
            
            local corner = Instance.new("UICorner")
            corner.CornerRadius = UDim.new(1, 0)
            corner.Parent = particle
            
            -- Float animation
            spawn(function()
                local startY = particle.Position.Y.Scale
                while true do
                    local float = math.sin(tick() * math.random(1, 3) + i) * 0.1
                    particle.Position = UDim2.new(
                        particle.Position.X.Scale,
                        particle.Position.X.Offset,
                        startY + float,
                        particle.Position.Y.Offset
                    )
                    task.wait()
                end
            end)
        end
    end
    
    -- Add floating particles
    createFloatingParticles(leftPanel, Color3.fromRGB(200, 100, 255), 10)
    createFloatingParticles(centerPanel, Color3.fromRGB(255, 150, 50), 15)
    createFloatingParticles(rightPanel, Color3.fromRGB(100, 200, 255), 10)
    
    -- ===== LEFT PANEL CONTENT =====
    -- Profile Section
    local profileLabel = Instance.new("TextLabel")
    profileLabel.Size = UDim2.new(0.9, 0, 0.15, 0)
    profileLabel.Position = UDim2.new(0.05, 0, 0.05, 0)
    profileLabel.BackgroundTransparency = 1
    profileLabel.Text = "PROFILE"
    profileLabel.TextColor3 = Color3.fromRGB(180, 60, 255)
    profileLabel.TextScaled = true
    profileLabel.Font = Enum.Font.SciFi
    profileLabel.ZIndex = 2
    profileLabel.Parent = leftPanel
    
    -- Profile Picture with glow
    local profileFrame = Instance.new("Frame")
    profileFrame.Size = UDim2.new(0.7, 0, 0.3, 0)
    profileFrame.Position = UDim2.new(0.15, 0, 0.2, 0)
    profileFrame.BackgroundColor3 = Color3.fromRGB(60, 20, 80)
    profileFrame.BorderSizePixel = 0
    profileFrame.ZIndex = 2
    profileFrame.Parent = leftPanel
    
    local profileCorner = Instance.new("UICorner")
    profileCorner.CornerRadius = UDim.new(0, 12)
    profileCorner.Parent = profileFrame
    
    local profileGlow = Instance.new("UIStroke")
    profileGlow.Color = Color3.fromRGB(200, 100, 255)
    profileGlow.Thickness = 3
    profileGlow.Parent = profileFrame
    
    local profileImage = Instance.new("ImageLabel")
    profileImage.Size = UDim2.new(0.8, 0, 0.8, 0)
    profileImage.Position = UDim2.new(0.1, 0, 0.1, 0)
    profileImage.BackgroundTransparency = 1
    profileImage.Image = "https://www.roblox.com/headshot-thumbnail/image?userId=" .. player.UserId .. "&width=150&height=150&format=png"
    profileImage.ZIndex = 2
    profileImage.Parent = profileFrame
    
    local imageCorner = Instance.new("UICorner")
    imageCorner.CornerRadius = UDim.new(0, 8)
    imageCorner.Parent = profileImage
    
    -- Username
    local usernameLabel = Instance.new("TextLabel")
    usernameLabel.Size = UDim2.new(0.9, 0, 0.1, 0)
    usernameLabel.Position = UDim2.new(0.05, 0, 0.55, 0)
    usernameLabel.BackgroundTransparency = 1
    usernameLabel.Text = player.DisplayName
    usernameLabel.TextColor3 = Color3.fromRGB(220, 180, 255)
    usernameLabel.TextScaled = true
    usernameLabel.Font = Enum.Font.GothamBold
    usernameLabel.ZIndex = 2
    usernameLabel.Parent = leftPanel
    
    -- Status
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(0.9, 0, 0.1, 0)
    statusLabel.Position = UDim2.new(0.05, 0, 0.7, 0)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "STATUS: HUNTING"
    statusLabel.TextColor3 = Color3.fromRGB(0, 255, 150)
    statusLabel.TextScaled = true
    statusLabel.Font = Enum.Font.SciFi
    statusLabel.ZIndex = 2
    statusLabel.Parent = leftPanel
    
    -- ===== CENTER PANEL CONTENT =====
    -- SESSION KILLS IN THE MIDDLE (Main Focus)
    local sessionTitle = Instance.new("TextLabel")
    sessionTitle.Size = UDim2.new(0.8, 0, 0.2, 0)
    sessionTitle.Position = UDim2.new(0.1, 0, 0.1, 0)
    sessionTitle.BackgroundTransparency = 1
    sessionTitle.Text = "SESSION KILLS"
    sessionTitle.TextColor3 = Color3.fromRGB(255, 200, 50)
    sessionTitle.TextScaled = true
    sessionTitle.Font = Enum.Font.SciFi
    sessionTitle.ZIndex = 2
    sessionTitle.Parent = centerPanel
    
    local sessionKillsCount = Instance.new("TextLabel")
    sessionKillsCount.Size = UDim2.new(0.8, 0, 0.5, 0)
    sessionKillsCount.Position = UDim2.new(0.1, 0, 0.3, 0)
    sessionKillsCount.BackgroundTransparency = 1
    sessionKillsCount.Text = "0"
    sessionKillsCount.TextColor3 = Color3.fromRGB(255, 255, 100)
    sessionKillsCount.TextScaled = true
    sessionKillsCount.Font = Enum.Font.SciFi
    sessionKillsCount.ZIndex = 2
    sessionKillsCount.Parent = centerPanel
    
    -- Total Kills (smaller, at bottom)
    local totalKillsLabel = Instance.new("TextLabel")
    totalKillsLabel.Size = UDim2.new(0.8, 0, 0.15, 0)
    totalKillsLabel.Position = UDim2.new(0.1, 0, 0.85, 0)
    totalKillsLabel.BackgroundTransparency = 1
    totalKillsLabel.Text = "TOTAL: 0"
    totalKillsLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    totalKillsLabel.TextScaled = true
    totalKillsLabel.Font = Enum.Font.SciFi
    totalKillsLabel.ZIndex = 2
    totalKillsLabel.Parent = centerPanel
    
    -- ===== RIGHT PANEL CONTENT =====
    -- Performance Info
    local performanceLabel = Instance.new("TextLabel")
    performanceLabel.Size = UDim2.new(0.9, 0, 0.15, 0)
    performanceLabel.Position = UDim2.new(0.05, 0, 0.05, 0)
    performanceLabel.BackgroundTransparency = 1
    performanceLabel.Text = "PERFORMANCE"
    performanceLabel.TextColor3 = Color3.fromRGB(80, 200, 255)
    performanceLabel.TextScaled = true
    performanceLabel.Font = Enum.Font.SciFi
    performanceLabel.ZIndex = 2
    performanceLabel.Parent = rightPanel
    
    -- FPS Display
    local fpsLabel = Instance.new("TextLabel")
    fpsLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
    fpsLabel.Position = UDim2.new(0.05, 0, 0.25, 0)
    fpsLabel.BackgroundTransparency = 1
    fpsLabel.Text = "FPS: 60"
    fpsLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    fpsLabel.TextScaled = true
    fpsLabel.Font = Enum.Font.SciFi
    fpsLabel.ZIndex = 2
    fpsLabel.Parent = rightPanel
    
    -- Ping/MS Display
    local pingLabel = Instance.new("TextLabel")
    pingLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
    pingLabel.Position = UDim2.new(0.05, 0, 0.5, 0)
    pingLabel.BackgroundTransparency = 1
    pingLabel.Text = "PING: 0ms"
    pingLabel.TextColor3 = Color3.fromRGB(255, 150, 50)
    pingLabel.TextScaled = true
    pingLabel.Font = Enum.Font.SciFi
    pingLabel.ZIndex = 2
    pingLabel.Parent = rightPanel
    
    -- Player Count
    local playersLabel = Instance.new("TextLabel")
    playersLabel.Size = UDim2.new(0.9, 0, 0.2, 0)
    playersLabel.Position = UDim2.new(0.05, 0, 0.75, 0)
    playersLabel.BackgroundTransparency = 1
    playersLabel.Text = "PLAYERS: 1"
    playersLabel.TextColor3 = Color3.fromRGB(255, 255, 150)
    playersLabel.TextScaled = true
    playersLabel.Font = Enum.Font.SciFi
    playersLabel.ZIndex = 2
    playersLabel.Parent = rightPanel
    
    -- ===== BOTTOM BAR CONTENT =====
    -- BY: Dylan (LEFT SIDE)
    local creatorLabel = Instance.new("TextLabel")
    creatorLabel.Size = UDim2.new(0.25, 0, 0.8, 0)
    creatorLabel.Position = UDim2.new(0.02, 0, 0.1, 0)
    creatorLabel.BackgroundTransparency = 1
    creatorLabel.Text = "BY: Dylan"
    creatorLabel.TextColor3 = Color3.fromRGB(180, 60, 255)
    creatorLabel.TextScaled = true
    creatorLabel.Font = Enum.Font.SciFi
    creatorLabel.TextXAlignment = Enum.TextXAlignment.Left
    creatorLabel.ZIndex = 2
    creatorLabel.Parent = bottomBar
    
    -- Action Status (Center)
    local actionLabel = Instance.new("TextLabel")
    actionLabel.Size = UDim2.new(0.4, 0, 0.8, 0)
    actionLabel.Position = UDim2.new(0.3, 0, 0.1, 0)
    actionLabel.BackgroundTransparency = 1
    actionLabel.Text = "Status: Active"
    actionLabel.TextColor3 = Color3.fromRGB(100, 255, 100)
    actionLabel.TextScaled = true
    actionLabel.Font = Enum.Font.SciFi
    actionLabel.ZIndex = 2
    actionLabel.Parent = bottomBar
    
    -- Show/Hide Toggle Button (RIGHT SIDE)
    local hideButton = Instance.new("TextButton")
    hideButton.Size = UDim2.new(0.15, 0, 0.8, 0)
    hideButton.Position = UDim2.new(0.84, 0, 0.1, 0)
    hideButton.BackgroundColor3 = Color3.fromRGB(40, 10, 60)
    hideButton.Text = "HIDE UI"
    hideButton.TextColor3 = Color3.fromRGB(180, 60, 255)
    hideButton.TextScaled = true
    hideButton.Font = Enum.Font.SciFi
    hideButton.ZIndex = 2
    hideButton.Parent = bottomBar
    
    local hideCorner = Instance.new("UICorner")
    hideCorner.CornerRadius = UDim.new(0, 8)
    hideCorner.Parent = hideButton
    
    local hideBorder = Instance.new("UIStroke")
    hideBorder.Color = Color3.fromRGB(180, 60, 255)
    hideBorder.Thickness = 2
    hideBorder.Parent = hideButton
    
    -- Toggle visibility
    hideButton.MouseButton1Click:Connect(function()
        mainContainer.Visible = not mainContainer.Visible
        hideButton.Text = mainContainer.Visible and "HIDE UI" or "SHOW UI"
    end)
    
    -- Pulsing text effects
    local function createPulseEffect(label, speed, baseColor)
        spawn(function()
            while true do
                local pulse = math.sin(tick() * speed) * 0.3 + 0.7
                label.TextColor3 = baseColor:Lerp(Color3.new(1, 1, 1), pulse * 0.5)
                task.wait()
            end
        end)
    end
    
    -- Glowing border effects
    local function createGlowEffect(stroke, baseColor)
        spawn(function()
            while true do
                local pulse = math.sin(tick() * 2) * 0.5 + 0.5
                stroke.Color = baseColor:Lerp(Color3.new(1, 1, 1), pulse * 0.3)
                task.wait()
            end
        end)
    end
    
    -- Apply effects
    createPulseEffect(sessionKillsCount, 3, Color3.fromRGB(255, 255, 100))
    createPulseEffect(actionLabel, 2, Color3.fromRGB(100, 255, 100))
    createPulseEffect(fpsLabel, 1.5, Color3.fromRGB(100, 255, 100))
    createPulseEffect(pingLabel, 1.8, Color3.fromRGB(255, 150, 50))
    
    createGlowEffect(leftBorder, Color3.fromRGB(180, 60, 255))
    createGlowEffect(centerBorder, Color3.fromRGB(255, 80, 80))
    createGlowEffect(rightBorder, Color3.fromRGB(80, 200, 255))
    createGlowEffect(bottomBorder, Color3.fromRGB(255, 215, 0))
    createGlowEffect(profileGlow, Color3.fromRGB(200, 100, 255))
    createGlowEffect(hideBorder, Color3.fromRGB(180, 60, 255))
    
    return totalKillsLabel, sessionKillsCount, playersLabel, actionLabel, statusLabel, fpsLabel, pingLabel
end

local totalKillsLabel, sessionKillsCount, playersLabel, actionLabel, statusLabel, fpsLabel, pingLabel = createThreePanelUI()

-- FPS Counter
local function getFPS()
    return math.floor(1 / RunService.RenderStepped:Wait())
end

-- Ping Counter
local function getPing()
    local stats = StatsService:FindFirstChild("PerformanceStats")
    if stats then
        local ping = stats:FindFirstChild("Ping")
        if ping then
            return math.floor(ping:GetValue())
        end
    end
    return 0
end

-- Format numbers with abbreviations
local function formatNumber(num)
    if num >= 1000000 then
        return string.format("%.1fM", num / 1000000)
    elseif num >= 1000 then
        return string.format("%.1fK", num / 1000)
    else
        return tostring(num)
    end
end

-- Update all UI elements
local function updateUI()
    -- Update total kills from leaderstats
    if player:FindFirstChild("leaderstats") then
        local killsStat = player.leaderstats:FindFirstChild("Kills") or player.leaderstats:FindFirstChild("kills")
        if killsStat then
            local currentKills = killsStat.Value
            totalKillsLabel.Text = "TOTAL: " .. formatNumber(currentKills)
            
            -- Proper session kills calculation
            if startKills == 0 then
                startKills = currentKills  -- Initialize on first run
            end
            
            -- Session kills = current kills - starting kills
            sessionKills = currentKills - startKills
            sessionKillsCount.Text = formatNumber(sessionKills)
            
            -- Update status based on activity
            if currentKills > lastKillCount then
                statusLabel.Text = "STATUS: ELIMINATING"
                statusLabel.TextColor3 = Color3.fromRGB(255, 80, 80)
            else
                statusLabel.Text = "STATUS: HUNTING"
                statusLabel.TextColor3 = Color3.fromRGB(0, 255, 150)
            end
            lastKillCount = currentKills
        end
    end
    
    -- Update performance stats
    fpsLabel.Text = "FPS: " .. getFPS()
    pingLabel.Text = "PING: " .. getPing() .. "ms"
    
    -- Update player count
    local playerCount = #Players:GetPlayers()
    playersLabel.Text = "PLAYERS: " .. playerCount
    
    -- Update action status
    actionLabel.Text = "Status: " .. (autoKill and "Active" or "Inactive")
    actionLabel.TextColor3 = autoKill and Color3.fromRGB(100, 255, 100) or Color3.fromRGB(255, 80, 80)
end

-- TP Function
local function teleportTo(position)
    if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        player.Character.HumanoidRootPart.CFrame = CFrame.new(position)
    end
end

-- Position Lock
local function togglePositionLock(state)
    if state then
        local targetPosition = Vector3.new(1947, 1.907, 6191)
        teleportTo(targetPosition)
        
        positionLock = RunService.Heartbeat:Connect(function()
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                player.Character.HumanoidRootPart.CFrame = CFrame.new(targetPosition)
            end
        end)
    else
        if positionLock then
            positionLock:Disconnect()
            positionLock = nil
        end
    end
end

-- Server Hop at 5 players
local function serverHop()
    local placeId = game.PlaceId
    local servers = game:GetService("HttpService"):JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/" .. placeId .. "/servers/Public?sortOrder=Asc&limit=100"))
    
    for _, server in pairs(servers.data) do
        if server.playing < server.maxPlayers and server.id ~= game.JobId then
            TeleportService:TeleportToPlaceInstance(placeId, server.id, player)
            break
        end
    end
end

-- Auto Kill Loop
local function autoKillLoop()
    while autoKill do
        task.wait(0.1)
        
        -- Auto server hop at 5 players
        if #Players:GetPlayers() <= 5 then
            serverHop()
            break
        end
        
        -- Kill players (your original function)
        pcall(function()
            local lp = game.Players.LocalPlayer
            local char = lp.Character
            local left = char and char:FindFirstChild("LeftHand")
            local right = char and char:FindFirstChild("RightHand")
            if not (left and right) then return end

            for _, targetPlayer in pairs(game.Players:GetPlayers()) do
                if not autoKill then break end
                if targetPlayer ~= lp and targetPlayer.Character then
                    local target = targetPlayer.Character
                    local hum = target:FindFirstChild("Humanoid")
                    local root = target:FindFirstChild("HumanoidRootPart")
                    if hum and root and hum.Health > 0 then
                        firetouchinterest(root, left, 0)
                        firetouchinterest(root, left, 1)
                        firetouchinterest(root, right, 0)
                        firetouchinterest(root, right, 1)

                        local punch = lp.Backpack:FindFirstChild("Punch") or char:FindFirstChild("Punch")
                        if punch and punch.Parent ~= char then
                            char.Humanoid:EquipTool(punch)
                        end

                        lp.muscleEvent:FireServer("punch", "leftHand")
                        lp.muscleEvent:FireServer("punch", "rightHand")
                    end
                end
            end
        end)
    end
end

-- Auto-start everything
local function autoStart()
    repeat task.wait(1) until player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    
    -- Initialize kill tracking
    if player:FindFirstChild("leaderstats") then
        local killsStat = player.leaderstats:FindFirstChild("Kills") or player.leaderstats:FindFirstChild("kills")
        if killsStat then
            startKills = killsStat.Value  -- Set starting point for session kills
            lastKillCount = killsStat.Value
        end
    end
    
    -- Start everything
    togglePositionLock(autoTP)
    task.spawn(autoKillLoop)
end

-- Start UI updates
spawn(function()
    while true do
        task.wait(0.5)
        updateUI()
    end
end)

-- Auto-start
autoStart()

print("ðŸŽ† SCI-FI BUBBLES ACTIVATED!")
print("âœ¨ 55+ flowing bubbles with glow effects")
print("ðŸŽ¯ Session kills working properly") 
print("ðŸ“Š FPS & Ping displays active")
print("ðŸŽ¨ Beautiful color themes with pulsing effects")
print("ðŸ‘» Bubbles flow from bottom to top continuously")
print("ðŸš€ UI Ready with massive visual effects!")
